
LOCAL_PATH := $(call my-dir)

include $(CLEAR_VARS)

LOCAL_MODULE := initlogo.rle
LOCAL_SRC_FILES := android-n19.png
LOCAL_MODULE_CLASS := EXECUTABLES
version := v0.1

LOGO := $(LOCAL_MODULE)
$(LOGO): PRIVATE_PATH := $(LOCAL_PATH)
$(LOGO): PRIVATE_INPUT_FILE := $(PRIVATE_PATH)/$(LOCAL_SRC_FILES)
$(LOGO): PRIVATE_CUSTOM_TOOL = $(PRIVATE_PATH)/gen-n19-logo.pl -b $(BUILD_ID) -p $(PLATFORM_VERSION) -v $(version) < $(PRIVATE_INPUT_FILE) | $(HOST_OUT_EXECUTABLES)/rgb2565 -rle > $(TARGET_ROOT_OUT)/$@
$(LOGO): $(LOCAL_INSTALLED_MODULE) $(LOCAL_PATH)/Android.mk
	@echo "Generating $@"
	@echo "Executing $(PRIVATE_CUSTOM_TOOL)"
	@$(PRIVATE_CUSTOM_TOOL)
	
ALL_DEFAULT_INSTALLED_MODULES += $(LOGO)
ALL_MODULES.$(LOCAL_MODULE).INSTALLED := \
    $(ALL_MODULES.$(LOCAL_MODULE).INSTALLED) $(LOGO)
